#Read in the data
R_Data <- read.csv(file.choose(),header = TRUE)

#I attached the data to the frame
attach(R_Data)

#I wanted to combine the columns here
cols <- c("Referred","Owner","AD","Campus","Status")

#Let's change the columns to factors
R_Data[cols] <- lapply(cols, factor)


#Now I want to check my work
sapply(R_Data, class)

#That didn't work. Let's try again.
#Let's change this character column to a factor
R_Data$Referred <- as.factor(R_Data$Referred)

#Let's test and see
str(R_Data)

#Let's change this character column to a factor
R_Data$Referred <- as.factor(R_Data$Referred)

#Let's test and see
str(R_Data)

#Let's change everything
R_Data$Owner <- as.factor(R_Data$Owner)
R_Data$AD <- as.factor(R_Data$AD)
R_Data$Campus <- as.factor(R_Data$Campus)
R_Data$Admin_Status <- as.factor(R_Data$Admin_Status)

#Let's check our work now.
sapply(R_Data, class)
#THAT WORKED!!

#Now I want to see how some of the data performs
y = xtabs(~ Referred + Showed + Enroll, R_Data)
y

#That's not really giving me what I want, so let's try a Table command
table(R_Data$Referred, R_Data$Contact + R_Data$Showed + R_Data$Enroll)


#Let's make some functions that count and calculate percentages.
count <- function(x, n){ length((which(x == n))) }
perc <- function(x, n){ 100*length((which(x == n))) / length(x) }

count(R_Data$Referred,"ER")

#Let's do a frequency distribution
with(R_Data, table(Referred,Showed))

#How Far can we take this?
with(R_Data, 100*(table(Referred, Scheduled)/sum(table(Referred, Scheduled))))

------------------------------------------------------------------------------------------------------

#Time to learn about reading in data. Let's see where the Working directory is.
getwd()
df <- read.csv("R_Data.csv")
df
str(df)

#Okay, let's try subsetting the data
Jennifer <- subset(df,Owner=="Jennifer Gregory")
Jennifer
#That worked. Let's try seeing how many enrollments Jenny had
sum(Jennifer$Enroll)

#Let's look at all the data pertaining only to Jennifer.
table(Jennifer$Referred)

#okay let's add in the ER data
er <- subset(df,Referred=="ER")
str(er)
print(er$Referred)

#Make a df just for those who took a tour.
er_shows <- df[(df$Showed_Date != "" & df$Referred == "ER"),]
